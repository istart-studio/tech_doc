= Interprocess Communication

== 进程间通信
进程间的通信隶属于中间件之间的通信，远程过程调用和间接通信都需要基于此进程间的通信。

- socket：tcp和udp都是实现了socket
- UDP：消息传递抽象
* IP允许的数据包大小216字节，超过截断。
* 不需要确认或重发
* 消息发送至目的地端口，但没有该端口的没有监听，则消息丢失。
- TCP：双向流抽象
* socket模型中，当服务器accept一个离按揭，就创建一个新的流socket用于客户的通信，同时保持在服务器端口上的socket用于监听其他客户端的connect请求。
* socket对油一对流相连接，每个方向一个流。
* 使用序列号检测和丢弃重复的数据包
* 超时和重传处理丢失的包

- 流通信：
* 数据项的匹配 matching of dataitem：数据类型要一致
* 阻塞 blocking：TCP流控制机制会阻塞进程写入，如果目的地的队列中的数据与协议允许的一样多。

- 开销：
* 需要在源和目的地存储状态信息
* 传输额外的消息
* 发送方的延迟

- 同步：send和receive都是阻塞的
- 异步：send不阻塞，receive可阻塞也可不阻塞

- 可靠性：
* 有效性：点对点消息服务在丢失了"合理"数量的数据包后，仍能保证发送消息，这个服务称为可靠的。
* 完整性：到达的消息没有损坏
- 排序：接收的消息顺序与发送方发的的消息顺序不一致，被认定失败的发送。

- 端口可用数：2^16^
* 同一主机上一个进程不能和其他进程共享端口，使用IP组播的进程除外。